<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<style>
#mydiv { 
    margin: 0px 0 30px;
	display: grid;
	place-items: center;
	width: 1600px;
	height: 900px;
	background-color: #000205;
	user-select: none;
	overflow: hidden;
	position: relative;
	z-index: 1;  
}


.slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0; 
}

.slide img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}


#overlay {
  position: absolute;
  top: -60px;
  left: 0;
  width: 100%;
  height: calc(100% + 80px);
  object-fit: cover;
  mix-blend-mode: overlay;
  opacity: 0.0;
  z-index: 50;
  pointer-events: none;
}

.block-effect-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  display: grid;
  transition: opacity 0.3s linear;
}


.dissolve-wrapper {
  grid-template-columns: repeat(30, 1fr);
  grid-template-rows: repeat(20, 1fr);
}


.pixelate-wrapper {
  grid-template-columns: repeat(40, 1fr);
  grid-template-rows: repeat(30, 1fr);
}


.mosaic-wrapper {
  grid-template-columns: repeat(15, 1fr);
  grid-template-rows: repeat(10, 1fr);
}


.block-piece {
  background-color: #000205;
  transition: all 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
  opacity: 1;
  transform: scale(1);
}


.shatter-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10;
  perspective: 1500px; 
}

.shatter-piece {
  position: absolute;
  background-color: #000205;
  transition: transform 1.8s cubic-bezier(0.1, 0.9, 0.3, 1.2), opacity 1.5s ease;
  opacity: 1;
  transform-origin: center center;
  border-radius: 2px; 
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}


#vid1, #vid2 {
  position: absolute;
  width: 100%;
  height: 120%;
  top: -80px;
  object-fit: cover;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.55;
}
#vid1 { z-index: 2; }
#vid2 { 
  z-index: 3;
  -webkit-mask: linear-gradient(to bottom, red 50%, transparent 55%, transparent);
}
</style> 
<body>
<div id="mydiv">

  <div class="slide" style="opacity: 1;">
    <img src="https://i.ibb.co/sdPBn9WS/wsrjcck1.jpg" alt="图片1">
  </div>
  <div class="slide">
    <img src="https://i.ibb.co/WNDynD3X/wsrjcck3.jpg" alt="图片2">
  </div>
  <div class="slide">
    <img src="https://i.ibb.co/cSkScBb0/wsrjcck2.jpg" alt="图片3">
  </div>
  <div class="slide">
    <img src="https://i.ibb.co/v413rpmn/wsrjcck4.jpg" alt="图片4">
  </div>
  <div class="slide">
    <img src="https://i.ibb.co/mF1hP4qM/wsrjcck5.jpg" alt="图片5">
  </div>
  <div class="slide">
    <img src="https://i.ibb.co/0VXmrndC/wsrjcck6.jpg" alt="图片6">
  </div>
  

  <video id="overlay" autoplay loop muted playsinline>
    <source src="https://img.tukuppt.com/video_show/2422006/00/01/70/5b4b1e2590ccc.mp4" type="video/mp4">
  </video>
  
  <video id="vid1" src="https://img.tukuppt.com/video_show/2629112/00/02/23/5b5885f450f50.mp4" autoplay loop muted></video>
  <video id="vid2" src="https://img.tukuppt.com/video_show/15653652/00/80/83/60d04564c32f7.mp4" autoplay loop muted></video>
</div>  

<script>

let currentIndex = 0;
const slides = document.querySelectorAll('.slide');
const totalSlides = slides.length; 
let timer;
let effectIndex = 0;

const effects = [
  {func: applyDissolveEffect},    
  {func: applyMosaicEffect},      
  {func: applyShatterEffect},     
  {func: applyPixelateEffect}    
];

function createWrapper(className) {
  const wrapper = document.createElement('div');
  wrapper.className = className;
  return wrapper;
}

function createBlockPiece() {
  const piece = document.createElement('div');
  piece.className = 'block-piece';
  return piece;
}

function init() {
  const firstSlide = slides[currentIndex];
  effects[effectIndex].func(firstSlide); 
  effectIndex = (effectIndex + 1) % effects.length; 
  startTimer(); 
}

function clearEffects() {
  const containers = document.querySelectorAll(
    '.block-effect-wrapper, .shatter-wrapper' 
  );
  containers.forEach(container => container.remove());
  

  slides.forEach(slide => {
    slide.style.opacity = '0';
  });
}

function showNext() {
  clearEffects(); 
  currentIndex = (currentIndex + 1) % totalSlides;
  const currentEffect = effects[effectIndex];
  effectIndex = (effectIndex + 1) % effects.length; 
  
  const targetSlide = slides[currentIndex];
  currentEffect.func(targetSlide); 
  resetTimer(); 
}

function applyDissolveEffect(slide) {
  slide.style.opacity = '1'; 
  const wrapper = createWrapper('block-effect-wrapper dissolve-wrapper');
  slide.appendChild(wrapper);
  
  const totalPieces = 30 * 20; 
  for(let i = 0; i < totalPieces; i++) {
    const piece = createBlockPiece();
    piece.style.transitionDelay = `${0.1 + Math.random() * 0.9}s`;
    wrapper.appendChild(piece);
  }

  setTimeout(() => {
    wrapper.querySelectorAll('.block-piece').forEach(piece => {
      piece.style.opacity = '0';
      piece.style.transform = 'scale(0.8)'; 
    });
  }, 100);
}

function applyMosaicEffect(slide) {
  slide.style.opacity = '1';
  const wrapper = createWrapper('block-effect-wrapper mosaic-wrapper');
  slide.appendChild(wrapper);
  
  const totalPieces = 15 * 10; 
  for(let i = 0; i < totalPieces; i++) {
    const piece = createBlockPiece();
    const row = Math.floor(i / 15);
    const col = i % 15;
    piece.style.transitionDelay = `${(row + col) * 0.05}s`;
    wrapper.appendChild(piece);
  }
  
  setTimeout(() => {
    wrapper.querySelectorAll('.block-piece').forEach(piece => {
      piece.style.transform = 'scale(0)'; 
      piece.style.opacity = '0';
    });
  }, 100);
}

function applyShatterEffect(slide) {
  slide.style.opacity = '1';
  const wrapper = createWrapper('shatter-wrapper');
  slide.appendChild(wrapper);
  
  const pieceCount = 80; 
  const containerWidth = 1600;
  const containerHeight = 900;
  
  for(let i = 0; i < pieceCount; i++) {
    const piece = document.createElement('div');
    piece.className = 'shatter-piece';
    const pieceWidth = 50 + Math.random() * 130;
    const pieceHeight = 50 + Math.random() * 130;
    const x = Math.min(Math.random() * containerWidth, containerWidth - pieceWidth);
    const y = Math.min(Math.random() * containerHeight, containerHeight - pieceHeight);
    
    piece.style.width = `${pieceWidth}px`;
    piece.style.height = `${pieceHeight}px`;
    piece.style.left = `${x}px`;
    piece.style.top = `${y}px`;
    piece.style.transitionDelay = `${Math.random() * 0.8}s`;
    wrapper.appendChild(piece);
  }
  
  setTimeout(() => {
    wrapper.querySelectorAll('.shatter-piece').forEach(piece => {
      const angle = Math.random() * Math.PI * 2;
      const distance = 500 + Math.random() * 500;
      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;
      const rotateZ = Math.random() * 720 - 360;
      
      piece.style.transform = `translate3d(${x}px, ${y}px, 300px) rotateZ(${rotateZ}deg)`;
      piece.style.opacity = '0';
    });
  }, 100);
}

function applyPixelateEffect(slide) {
  slide.style.opacity = '1';
  const wrapper = createWrapper('block-effect-wrapper pixelate-wrapper');
  slide.appendChild(wrapper);
  
  const totalPieces = 40 * 30; 
  for(let i = 0; i < totalPieces; i++) {
    const piece = createBlockPiece();
    const row = Math.floor(i / 40);
    const col = i % 40;
    piece.style.transitionDelay = `${(row * 0.02) + (col * 0.01)}s`;
    wrapper.appendChild(piece);
  }
  
  setTimeout(() => {
    wrapper.querySelectorAll('.block-piece').forEach(piece => {
      const dirs = ['translateX(-50%)', 'translateX(50%)', 'translateY(-50%)', 'translateY(50%)'];
      piece.style.transform = dirs[Math.floor(Math.random() * dirs.length)];
      piece.style.opacity = '0';
    });
  }, 100);
}

function startTimer() {
  timer = setInterval(showNext, 7000);
}

function resetTimer() {
  clearInterval(timer);
  startTimer();
}

window.onload = init;
</script>
</body>
</html>